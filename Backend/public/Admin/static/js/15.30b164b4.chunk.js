(this["webpackJsonpdatta-able-rv18.0.4"]=this["webpackJsonpdatta-able-rv18.0.4"]||[]).push([[15],{329:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a(73),l=a.n(r),c=a(74),o=a(71),i=a(0),s=a.n(i),u=a(105),m=a(330),d=a(363),p=a(364),E=a(62),b=a(81),f=a.n(b),y=a(362),x=a(356),h=a(213),v=a(187),g=a(207),O=a(322),j=a(3),k=a(33),C=a(12),S=a(77);function w(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}var N=Object(x.a)((function(e){return{paper:{position:"absolute",width:"1000px",padding:e.spacing(2,4,3)}}}));var L=Object(k.b)((function(e){return{message:e.orderReducer.message}}),(function(e){return{updateorderbyid:function(t,a){return e(C.h(t,a))},onGetorders:function(t){return e(C.g(t))}}}))((function(e){console.log(e.order);var t=N(),a=Object(i.useState)(w),n=Object(o.a)(a,1)[0],r=Object(i.useState)(!1),d=Object(o.a)(r,2),p=d[0],E=d[1],b=(Object(j.g)().orderid,Object(i.useState)(e.order.email)),f=Object(o.a)(b,2),x=f[0],k=(f[1],e.order.paymentStatus?"Online":"COD"),C=Object(i.useState)(k),L=Object(o.a)(C,2),G=L[0],I=(L[1],new Date(e.order.orderDate)),K=Object(i.useState)(I.toLocaleString()),A=Object(o.a)(K,2),B=A[0],T=(A[1],e.order.address.houseNumber+","+e.order.address.locality+","+e.order.address.city+","+e.order.address.state+","+e.order.address.country+","+e.order.address.pinCode),D=Object(i.useState)(T),z=Object(o.a)(D,2),P=z[0],M=(z[1],Object(i.useState)(e.order.phonenumber)),R=Object(o.a)(M,2),_=(R[0],R[1],Object(i.useState)(e.order.amount)),F=Object(o.a)(_,2),H=F[0],J=(F[1],Object(i.useState)("")),q=Object(o.a)(J,2),Q=(q[0],q[1],Object(i.useState)(e.order.status)),U=Object(o.a)(Q,2),V=U[0],W=U[1],X=Object(i.useState)(!1),Y=Object(o.a)(X,2),Z=Y[0],$=Y[1],ee=Object(i.useState)(!0),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=function(){E(!1),$(!1)},le=function(){var t=Object(c.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),n={status:V},console.log(n),ne(!0),t.next=6,e.updateorderbyid(e.order._id,n);case 6:return t.next=8,e.onGetorders("");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ce=function(e){console.log(e.target.value),W(e.target.value)},oe=e.order.books.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null," ",e.quantity," "),s.a.createElement("td",null," ",e.isbn," "))}));return s.a.createElement("div",null,e.message.includes("updated")&&Z?s.a.createElement(S.a,{open:!0,variant:"success",msg:e.message}):null,s.a.createElement("button",{className:"btn",onClick:function(){E(!0)}},s.a.createElement("span",{className:"float-right d-flex  align-items-center"},e.name.slice(e.name.length-6,e.name.length),"\xa0",s.a.createElement("i",{className:"fa fa-info-circle f-22 m-r-10 text-c-green"}))),s.a.createElement(y.a,{open:p,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},s.a.createElement("div",{style:n,className:t.paper+" ordermodel"},s.a.createElement(m.a,{className:"border border-muted",style:{padding:"10px 15px",margin:"15px auto",boxSizing:"border-box",border:"none",width:"90%",fontFamily:"monospace",display:"block"}},s.a.createElement(m.a.Header,null,s.a.createElement("i",{className:"fa fa-times",style:{float:"right",fontSize:"20px"},onClick:function(){re()}}),s.a.createElement(m.a.Title,{as:"h5"},s.a.createElement("h4",null,"Order List"))),s.a.createElement(m.a.Body,null,s.a.createElement(m.a.Text,null,ae&&s.a.createElement(h.a,null,s.a.createElement(u.a,{md:6},s.a.createElement(v.a,null,s.a.createElement(v.a.Group,{controlId:"formBasicEmail"},s.a.createElement(v.a.Label,null,"Email"),s.a.createElement(v.a.Control,{type:"text",value:x,placeholder:"Enter Email"})),s.a.createElement(v.a.Group,{controlId:"formBasicEmail"},s.a.createElement(v.a.Label,null,"Payment Type"),s.a.createElement(v.a.Control,{type:"text",value:G,placeholder:"Enter Payment type"})),s.a.createElement(v.a.Group,{controlId:"formBasicEmail"},s.a.createElement(v.a.Label,null,"Status"),s.a.createElement(v.a.Control,{type:"text",value:V,placeholder:"Enter Status"})))),s.a.createElement(u.a,{md:6},s.a.createElement(v.a.Group,{controlId:"formBasicEmail"},s.a.createElement(v.a.Label,null,"Date Time"),s.a.createElement(v.a.Control,{type:"text",value:B,placeholder:"Enter Date and time"})),s.a.createElement(v.a.Group,{controlId:"formBasicEmail"},s.a.createElement(v.a.Label,null,"Amount"),s.a.createElement(v.a.Control,{type:"text",value:H,placeholder:"Enter Address"})),s.a.createElement(v.a.Group,{controlId:"formBasicEmail"},s.a.createElement(v.a.Label,null,"Address"),s.a.createElement(v.a.Control,{as:"textarea",value:P,placeholder:"Enter Address"}))),s.a.createElement(O.a,{striped:!0,bordered:!0,hover:!0,style:{width:"100%",margin:"10px"}},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Quantity"),s.a.createElement("th",null,"ISBN"))),s.a.createElement("tbody",null,oe)),s.a.createElement(g.a,{style:{width:"90px",margin:"auto"},onClick:function(e){console.log("Edit"),ne(!1)},variant:"primary"},"EDIT")),!ae&&s.a.createElement(h.a,null,s.a.createElement(u.a,{md:4},s.a.createElement(v.a,null,s.a.createElement(v.a.Group,{controlId:"formBasicEmail"},s.a.createElement(v.a.Label,null,"Status")))),s.a.createElement(u.a,{md:3,key:"status",onChange:ce},s.a.createElement(v.a.Check,{type:"radio",id:"status",name:"group1",label:"New",value:"new"}),s.a.createElement(v.a.Check,{type:"radio",id:"status",name:"group1",label:"Packed",value:"packed"}),s.a.createElement(v.a.Check,{type:"radio",id:"status",name:"group1",label:"Shipped",value:"shipped"})),s.a.createElement(u.a,{md:2,key:"status",onChange:ce},s.a.createElement(v.a.Check,{type:"radio",id:"status",name:"group1",label:"Completed",value:"completed"}),s.a.createElement(v.a.Check,{type:"radio",id:"status",name:"group1",label:"Delayed",value:"delayed"}),s.a.createElement(v.a.Check,{type:"radio",id:"status",name:"group1",label:"Cancelled",value:"cancelled"})),s.a.createElement(u.a,{sm:12,md:12,style:{width:"100%",textAlign:"center"}},s.a.createElement("div",{style:{marginTop:"50px"}},s.a.createElement(g.a,{style:{width:"90px",marginTop:"50px",margin:"10px"},onClick:function(e){console.log("cancel"),ne(!0),re()},variant:"primary"},"CANCEL"),s.a.createElement(g.a,{style:{width:"90px",marginTop:"50px",margin:"10px"},onClick:le,variant:"primary"},"UPDATE"))))))))))})),G=a(144),I=a(32);t.default=Object(k.b)((function(e){return{orders:e.orderReducer.orders,totalorders:e.orderReducer.totalorders}}),(function(e){return{onGetorders:function(t){return e(C.g(t))}}}))((function(e){var t=Object(i.useState)(5),a=Object(o.a)(t,2),r=a[0],b=(a[1],Object(i.useState)([1,2,3])),y=Object(o.a)(b,2),x=y[0],h=y[1],v=Object(i.useState)(1),g=Object(o.a)(v,2),O=g[0],j=g[1],k=Object(i.useState)("all"),C=Object(o.a)(k,2),S=C[0],w=C[1];function N(e){return K.apply(this,arguments)}function K(){return(K=Object(c.a)(l.a.mark((function t(a){var c,o,i,s,u,m,d,p,E;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("current:****************************"+a),c=1,c=e.totalorders/r,console.log("*******************************Max******************"+c),console.log(e.totalorders),"initial"!==a){t.next=11;break}return o=[1,2,3],t.next=9,h(o);case 9:return t.next=11,j(1);case 11:if("final"!==a){t.next=18;break}return i=c>Math.floor(e.totalorders/r)?Math.floor(c)+1:Math.floor(c),s=[i-2,i-1,i],t.next=16,h(s);case 16:return t.next=18,j(i);case 18:if(!(x[2]<c)){t.next=27;break}if("next"!==a){t.next=27;break}for(u=Object(n.a)(x),m=0;m<u.length;m++)u[m]=u[m]+1;return d=u[0],t.next=25,h(u);case 25:return t.next=27,j(d);case 27:if("prev"!==a){t.next=36;break}if(1===x[0]){t.next=36;break}for(u=Object(n.a)(x),p=0;p<u.length;p++)u[p]=u[p]-1;return E=u[0],t.next=34,h(u);case 34:return t.next=36,j(E);case 36:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:console.log("****************************"+t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("all"!==S){t.next=5;break}return t.next=3,e.onGetorders("page="+O+"&limit="+r);case 3:t.next=7;break;case 5:return t.next=7,e.onGetorders("page="+O+"&limit="+r+"&status="+S);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(i.useEffect)((function(){Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:case"end":return e.stop()}}),e)})))()}),[O,S]);var D=function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("&&&&&&&&&&&&&&&&&&&&"+t),"all"!==t){e.next=8;break}return e.next=4,j(1);case 4:return e.next=6,w("all");case 6:e.next=12;break;case 8:return e.next=10,j(1);case 10:return e.next=12,w(t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=x.map((function(e,t){return s.a.createElement(G.a.Item,{key:t,onClick:function(){return function(e){return A.apply(this,arguments)}(e)},active:e===O},e)})),P=e.orders.map((function(e,t){return console.log(e.paymentStatus),s.a.createElement(I.a,{key:t},s.a.createElement("div",{className:"media friendlist-box align-items-center justify-content-center m-b-25"},s.a.createElement("div",{className:"photo-table"},s.a.createElement("a",{href:E.a.BLANK_LINK},s.a.createElement("img",{className:"rounded-circle",style:{width:"40px"},src:f.a,alt:"activity-user"}))),s.a.createElement("div",{className:"media-body"},s.a.createElement(u.a,null,s.a.createElement("h6",{className:"m-0 d-inline"},e.email)),s.a.createElement(u.a,null,s.a.createElement("span",{className:"m-0 d-inline"},e.status),s.a.createElement("span",{className:"float-right d-flex  align-items-center"},s.a.createElement(L,{name:e._id,order:e}))))))}));return s.a.createElement(I.a,null,s.a.createElement("div",null,s.a.createElement(u.a,{sm:6,md:12,xl:12,className:"m-b-30"},s.a.createElement(m.a,{style:{padding:"10px"}},s.a.createElement(d.a,{defaultActiveKey:"today",id:"uncontrolled-tab-example",onSelect:D,activeKey:S},s.a.createElement(p.a,null,P),s.a.createElement(p.a,{eventKey:"all",title:"All"},P),s.a.createElement(p.a,{eventKey:"new",title:"New"},P),s.a.createElement(p.a,{eventKey:"packed",title:"packed"},P),s.a.createElement(p.a,{eventKey:"shipped",title:"shipped"},P),s.a.createElement(p.a,{eventKey:"completed",title:"completed"},P),s.a.createElement(p.a,{eventKey:"delayed",title:"delayed"},P),s.a.createElement(p.a,{eventKey:"cancelled",title:"cancelled"},P)))),s.a.createElement("div",null,s.a.createElement(G.a,{style:{display:"flex",width:"220px",margin:"auto"}},s.a.createElement(G.a.First,{onClick:function(){return N("initial")}}),s.a.createElement(G.a.Prev,{onClick:function(){return N("prev")}}),z,s.a.createElement(G.a.Next,{onClick:function(){return N("next")}}),s.a.createElement(G.a.Last,{onClick:function(){return N("final")}})))))}))},77:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(71),r=a(0),l=a.n(r),c=a(361),o=a(359),i=a(356);function s(e){return l.a.createElement(o.a,Object.assign({elevation:6,variant:"filled"},e))}var u=Object(i.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function m(e){var t=u(),a=l.a.useState(e.open),r=Object(n.a)(a,2),o=r[0],i=r[1],m=l.a.useState(e.variant),d=Object(n.a)(m,2),p=d[0],E=(d[1],l.a.useState(e.msg)),b=Object(n.a)(E,2),f=b[0],y=(b[1],l.a.useState({vertical:"top",horizontal:"center"})),x=Object(n.a)(y,2),h=x[0],v=(x[1],h.vertical),g=h.horizontal,O=function(e,t){"clickaway"!==t&&i(!1)};return l.a.createElement("div",{className:t.root},l.a.createElement(c.a,{open:o,autoHideDuration:6e3,onClose:O,anchorOrigin:{vertical:v,horizontal:g}},l.a.createElement(s,{onClose:O,severity:p},f)))}}}]);
//# sourceMappingURL=15.30b164b4.chunk.js.map